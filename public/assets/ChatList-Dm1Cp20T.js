import{r as d,c as zt,j as l,u as Jt,a as yt,b as st,s as Qt,d as $t,e as It,f as F,h as x,m as de,i as ct,k as ee,l as pt,n as _,o as lt,p as Xt,B as Tt,q as Ct,t as Ce,v as wt,w as je,I as Ft,P as Vt,x as Bt,A as Yt,y as Je,z as it,C as At,L as Zt,T as ve,D as eo,E as qe,F as to,G as Ht,H as oo,J as ao,S as Ut,K as no,M as ro,N as Wt,O as Pt,Q as _t,R as so,U as lo,V as io,W as co,X as po,Y as uo,Z as fo,_ as go,$ as bo,a0 as ho,a1 as mo,a2 as Dt,a3 as xo,a4 as yo,a5 as Co,a6 as vo}from"./index-CWabRAkK.js";import{g as $o}from"./functions-BhBJ70XI.js";const Io=e=>{const o=d.useRef({});return d.useEffect(()=>{o.current=e}),o.current},Po=zt(l.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function jt(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function So(e={}){const{ignoreAccents:o=!0,ignoreCase:n=!0,limit:s,matchFrom:f="any",stringify:b,trim:c=!1}=e;return(m,{inputValue:C,getOptionLabel:P})=>{let k=c?C.trim():C;n&&(k=k.toLowerCase()),o&&(k=jt(k));const T=k?m.filter(S=>{let L=(b||P)(S);return n&&(L=L.toLowerCase()),o&&(L=jt(L)),f==="start"?L.startsWith(k):L.includes(k)}):m;return typeof s=="number"?T.slice(0,s):T}}const Oo=So(),ko=5,Lo=e=>{var o;return e.current!==null&&((o=e.current.parentElement)==null?void 0:o.contains(document.activeElement))},Ro=[];function To(e){const{unstable_isActiveElementInListbox:o=Lo,unstable_classNamePrefix:n="Mui",autoComplete:s=!1,autoHighlight:f=!1,autoSelect:b=!1,blurOnSelect:c=!1,clearOnBlur:m=!e.freeSolo,clearOnEscape:C=!1,componentName:P="useAutocomplete",defaultValue:k=e.multiple?Ro:null,disableClearable:T=!1,disableCloseOnSelect:S=!1,disabled:L,disabledItemsFocusable:D=!1,disableListWrap:te=!1,filterOptions:G=Oo,filterSelectedOptions:H=!1,freeSolo:U=!1,getOptionDisabled:M,getOptionKey:ne,getOptionLabel:fe=a=>a.label??a,groupBy:V,handleHomeEndKeys:ge=!e.freeSolo,id:be,includeInputInList:he=!1,inputValue:$e,isOptionEqualToValue:J=(a,t)=>a===t,multiple:v=!1,onChange:me,onClose:Q,onHighlightChange:Ie,onInputChange:X,onOpen:xe,open:Me,openOnFocus:j=!1,options:St,readOnly:Pe=!1,selectOnFocus:Ee=!e.freeSolo,value:ut}=e,W=Jt(be);let E=fe;E=a=>{const t=fe(a);return typeof t!="string"?String(t):t};const Ne=d.useRef(!1),ze=d.useRef(!0),A=d.useRef(null),K=d.useRef(null),[Fe,Ot]=d.useState(null),[q,Qe]=d.useState(-1),dt=f?0:-1,z=d.useRef(dt),[i,kt]=yt({controlled:ut,default:k,name:P}),[I,Se]=yt({controlled:$e,default:"",name:P,state:"inputValue"}),[Oe,Ve]=d.useState(!1),ke=d.useCallback((a,t,r)=>{if(!(v?i.length<t.length:t!==null)&&!m)return;let g;if(v)g="";else if(t==null)g="";else{const R=E(t);g=typeof R=="string"?R:""}I!==g&&(Se(g),X&&X(a,g,r))},[E,I,v,X,Se,m,i]),[ce,Xe]=yt({controlled:Me,default:!1,name:P,state:"open"}),[Ye,ft]=d.useState(!0),Le=!v&&i!=null&&I===E(i),B=ce&&!Pe,O=B?G(St.filter(a=>!(H&&(v?i:[i]).some(t=>t!==null&&J(a,t)))),{inputValue:Le&&Ye?"":I,getOptionLabel:E}):[],oe=Io({filteredOptions:O,value:i,inputValue:I});d.useEffect(()=>{const a=i!==oe.value;Oe&&!a||U&&!a||ke(null,i,"reset")},[i,ke,Oe,oe.value,U]);const Be=ce&&O.length>0&&!Pe,Re=st(a=>{a===-1?A.current.focus():Fe.querySelector(`[data-tag-index="${a}"]`).focus()});d.useEffect(()=>{v&&q>i.length-1&&(Qe(-1),Re(-1))},[i,v,q,Re]);function Ze(a,t){if(!K.current||a<0||a>=O.length)return-1;let r=a;for(;;){const p=K.current.querySelector(`[data-option-index="${r}"]`),g=D?!1:!p||p.disabled||p.getAttribute("aria-disabled")==="true";if(p&&p.hasAttribute("tabindex")&&!g)return r;if(t==="next"?r=(r+1)%O.length:r=(r-1+O.length)%O.length,r===a)return-1}}const re=st(({event:a,index:t,reason:r="auto"})=>{if(z.current=t,t===-1?A.current.removeAttribute("aria-activedescendant"):A.current.setAttribute("aria-activedescendant",`${W}-option-${t}`),Ie&&Ie(a,t===-1?null:O[t],r),!K.current)return;const p=K.current.querySelector(`[role="option"].${n}-focused`);p&&(p.classList.remove(`${n}-focused`),p.classList.remove(`${n}-focusVisible`));let g=K.current;if(K.current.getAttribute("role")!=="listbox"&&(g=K.current.parentElement.querySelector('[role="listbox"]')),!g)return;if(t===-1){g.scrollTop=0;return}const R=K.current.querySelector(`[data-option-index="${t}"]`);if(R&&(R.classList.add(`${n}-focused`),r==="keyboard"&&R.classList.add(`${n}-focusVisible`),g.scrollHeight>g.clientHeight&&r!=="mouse"&&r!=="touch")){const $=R,Z=g.clientHeight+g.scrollTop,at=$.offsetTop+$.offsetHeight;at>Z?g.scrollTop=at-g.clientHeight:$.offsetTop-$.offsetHeight*(V?1.3:0)<g.scrollTop&&(g.scrollTop=$.offsetTop-$.offsetHeight*(V?1.3:0))}}),Y=st(({event:a,diff:t,direction:r="next",reason:p="auto"})=>{if(!B)return;const R=Ze((()=>{const $=O.length-1;if(t==="reset")return dt;if(t==="start")return 0;if(t==="end")return $;const Z=z.current+t;return Z<0?Z===-1&&he?-1:te&&z.current!==-1||Math.abs(t)>1?0:$:Z>$?Z===$+1&&he?-1:te||Math.abs(t)>1?$:0:Z})(),r);if(re({index:R,reason:p,event:a}),s&&t!=="reset")if(R===-1)A.current.value=I;else{const $=E(O[R]);A.current.value=$,$.toLowerCase().indexOf(I.toLowerCase())===0&&I.length>0&&A.current.setSelectionRange(I.length,$.length)}}),gt=()=>{const a=(t,r)=>{const p=t?E(t):"",g=r?E(r):"";return p===g};if(z.current!==-1&&oe.filteredOptions&&oe.filteredOptions.length!==O.length&&oe.inputValue===I&&(v?i.length===oe.value.length&&oe.value.every((t,r)=>E(i[r])===E(t)):a(oe.value,i))){const t=oe.filteredOptions[z.current];if(t)return O.findIndex(r=>E(r)===E(t))}return-1},He=d.useCallback(()=>{if(!B)return;const a=gt();if(a!==-1){z.current=a;return}const t=v?i[0]:i;if(O.length===0||t==null){Y({diff:"reset"});return}if(K.current){if(t!=null){const r=O[z.current];if(v&&r&&i.findIndex(g=>J(r,g))!==-1)return;const p=O.findIndex(g=>J(g,t));p===-1?Y({diff:"reset"}):re({index:p});return}if(z.current>=O.length-1){re({index:O.length-1});return}re({index:z.current})}},[O.length,v?!1:i,H,Y,re,B,I,v]),bt=st(a=>{Qt(K,a),a&&He()});d.useEffect(()=>{He()},[He]);const se=a=>{ce||(Xe(!0),ft(!0),xe&&xe(a))},le=(a,t)=>{ce&&(Xe(!1),Q&&Q(a,t))},pe=(a,t,r,p)=>{if(v){if(i.length===t.length&&i.every((g,R)=>g===t[R]))return}else if(i===t)return;me&&me(a,t,r,p),kt(t)},Te=d.useRef(!1),ye=(a,t,r="selectOption",p="options")=>{let g=r,R=t;if(v){R=Array.isArray(i)?i.slice():[];const $=R.findIndex(Z=>J(t,Z));$===-1?R.push(t):p!=="freeSolo"&&(R.splice($,1),g="removeOption")}ke(a,R,g),pe(a,R,g,{option:t}),!S&&(!a||!a.ctrlKey&&!a.metaKey)&&le(a,g),(c===!0||c==="touch"&&Te.current||c==="mouse"&&!Te.current)&&A.current.blur()};function we(a,t){if(a===-1)return-1;let r=a;for(;;){if(t==="next"&&r===i.length||t==="previous"&&r===-1)return-1;const p=Fe.querySelector(`[data-tag-index="${r}"]`);if(!p||!p.hasAttribute("tabindex")||p.disabled||p.getAttribute("aria-disabled")==="true")r+=t==="next"?1:-1;else return r}}const Ue=(a,t)=>{if(!v)return;I===""&&le(a,"toggleInput");let r=q;q===-1?I===""&&t==="previous"&&(r=i.length-1):(r+=t==="next"?1:-1,r<0&&(r=0),r===i.length&&(r=-1)),r=we(r,t),Qe(r),Re(r)},et=a=>{Ne.current=!0,Se(""),X&&X(a,"","clear"),pe(a,v?[]:null,"clear")},Ae=a=>t=>{if(a.onKeyDown&&a.onKeyDown(t),!t.defaultMuiPrevented&&(q!==-1&&!["ArrowLeft","ArrowRight"].includes(t.key)&&(Qe(-1),Re(-1)),t.which!==229))switch(t.key){case"Home":B&&ge&&(t.preventDefault(),Y({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":B&&ge&&(t.preventDefault(),Y({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),Y({diff:-5,direction:"previous",reason:"keyboard",event:t}),se(t);break;case"PageDown":t.preventDefault(),Y({diff:ko,direction:"next",reason:"keyboard",event:t}),se(t);break;case"ArrowDown":t.preventDefault(),Y({diff:1,direction:"next",reason:"keyboard",event:t}),se(t);break;case"ArrowUp":t.preventDefault(),Y({diff:-1,direction:"previous",reason:"keyboard",event:t}),se(t);break;case"ArrowLeft":Ue(t,"previous");break;case"ArrowRight":Ue(t,"next");break;case"Enter":if(z.current!==-1&&B){const r=O[z.current],p=M?M(r):!1;if(t.preventDefault(),p)return;ye(t,r,"selectOption"),s&&A.current.setSelectionRange(A.current.value.length,A.current.value.length)}else U&&I!==""&&Le===!1&&(v&&t.preventDefault(),ye(t,I,"createOption","freeSolo"));break;case"Escape":B?(t.preventDefault(),t.stopPropagation(),le(t,"escape")):C&&(I!==""||v&&i.length>0)&&(t.preventDefault(),t.stopPropagation(),et(t));break;case"Backspace":if(v&&!Pe&&I===""&&i.length>0){const r=q===-1?i.length-1:q,p=i.slice();p.splice(r,1),pe(t,p,"removeOption",{option:i[r]})}break;case"Delete":if(v&&!Pe&&I===""&&i.length>0&&q!==-1){const r=q,p=i.slice();p.splice(r,1),pe(t,p,"removeOption",{option:i[r]})}break}},ht=a=>{Ve(!0),j&&!Ne.current&&se(a)},tt=a=>{if(o(K)){A.current.focus();return}Ve(!1),ze.current=!0,Ne.current=!1,b&&z.current!==-1&&B?ye(a,O[z.current],"blur"):b&&U&&I!==""?ye(a,I,"blur","freeSolo"):m&&ke(a,i,"blur"),le(a,"blur")},De=a=>{const t=a.target.value;I!==t&&(Se(t),ft(!1),X&&X(a,t,"input")),t===""?!T&&!v&&pe(a,null,"clear"):se(a)},We=a=>{const t=Number(a.currentTarget.getAttribute("data-option-index"));z.current!==t&&re({event:a,index:t,reason:"mouse"})},_e=a=>{re({event:a,index:Number(a.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Te.current=!0},mt=a=>{const t=Number(a.currentTarget.getAttribute("data-option-index"));ye(a,O[t],"selectOption"),Te.current=!1},xt=a=>t=>{const r=i.slice();r.splice(a,1),pe(t,r,"removeOption",{option:i[a]})},ot=a=>{ce?le(a,"toggleInput"):se(a)},Lt=a=>{a.currentTarget.contains(a.target)&&a.target.getAttribute("id")!==W&&a.preventDefault()},Ge=a=>{a.currentTarget.contains(a.target)&&(A.current.focus(),Ee&&ze.current&&A.current.selectionEnd-A.current.selectionStart===0&&A.current.select(),ze.current=!1)},N=a=>{!L&&(I===""||!ce)&&ot(a)};let w=U&&I.length>0;w=w||(v?i.length>0:i!==null);let ie=O;return V&&(ie=O.reduce((a,t,r)=>{const p=V(t);return a.length>0&&a[a.length-1].group===p?a[a.length-1].options.push(t):a.push({key:r,index:r,group:p,options:[t]}),a},[])),L&&Oe&&tt(),{getRootProps:(a={})=>({"aria-owns":Be?`${W}-listbox`:null,...a,onKeyDown:Ae(a),onMouseDown:Lt,onClick:Ge}),getInputLabelProps:()=>({id:`${W}-label`,htmlFor:W}),getInputProps:()=>({id:W,value:I,onBlur:tt,onFocus:ht,onChange:De,onMouseDown:N,"aria-activedescendant":B?"":null,"aria-autocomplete":s?"both":"list","aria-controls":Be?`${W}-listbox`:void 0,"aria-expanded":Be,autoComplete:"off",ref:A,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:L}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:et}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:ot}),getTagProps:({index:a})=>({key:a,"data-tag-index":a,tabIndex:-1,...!Pe&&{onDelete:xt(a)}}),getListboxProps:()=>({role:"listbox",id:`${W}-listbox`,"aria-labelledby":`${W}-label`,ref:bt,onMouseDown:a=>{a.preventDefault()}}),getOptionProps:({index:a,option:t})=>{const r=(v?i:[i]).some(g=>g!=null&&J(t,g)),p=M?M(t):!1;return{key:(ne==null?void 0:ne(t))??E(t),tabIndex:-1,role:"option",id:`${W}-option-${a}`,onMouseMove:We,onClick:mt,onTouchStart:_e,"data-option-index":a,"aria-disabled":p,"aria-selected":r}},id:W,inputValue:I,value:i,dirty:w,expanded:B&&Fe,popupOpen:B,focused:Oe||q!==-1,anchorEl:Fe,setAnchorEl:Ot,focusedTag:q,groupedOptions:ie}}function wo(e){return $t("MuiListSubheader",e)}It("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Ao=e=>{const{classes:o,color:n,disableGutters:s,inset:f,disableSticky:b}=e,c={root:["root",n!=="default"&&`color${x(n)}`,!s&&"gutters",f&&"inset",!b&&"sticky"]};return pt(c,wo,o)},Do=F("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,n.color!=="default"&&o[`color${x(n.color)}`],!n.disableGutters&&o.gutters,n.inset&&o.inset,!n.disableSticky&&o.sticky]}})(de(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:o})=>!o.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:o})=>o.inset,style:{paddingLeft:72}},{props:({ownerState:o})=>!o.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),vt=d.forwardRef(function(o,n){const s=ct({props:o,name:"MuiListSubheader"}),{className:f,color:b="default",component:c="li",disableGutters:m=!1,disableSticky:C=!1,inset:P=!1,...k}=s,T={...s,color:b,component:c,disableGutters:m,disableSticky:C,inset:P},S=Ao(T);return l.jsx(Do,{as:c,className:ee(S.root,f),ref:n,ownerState:T,...k})});vt&&(vt.muiSkipListHighlight=!0);const jo=zt(l.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Mo(e){return $t("MuiChip",e)}const h=It("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Eo=e=>{const{classes:o,disabled:n,size:s,color:f,iconColor:b,onDelete:c,clickable:m,variant:C}=e,P={root:["root",C,n&&"disabled",`size${x(s)}`,`color${x(f)}`,m&&"clickable",m&&`clickableColor${x(f)}`,c&&"deletable",c&&`deletableColor${x(f)}`,`${C}${x(f)}`],label:["label",`label${x(s)}`],avatar:["avatar",`avatar${x(s)}`,`avatarColor${x(f)}`],icon:["icon",`icon${x(s)}`,`iconColor${x(b)}`],deleteIcon:["deleteIcon",`deleteIcon${x(s)}`,`deleteIconColor${x(f)}`,`deleteIcon${x(C)}Color${x(f)}`]};return pt(P,Mo,o)},No=F("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e,{color:s,iconColor:f,clickable:b,onDelete:c,size:m,variant:C}=n;return[{[`& .${h.avatar}`]:o.avatar},{[`& .${h.avatar}`]:o[`avatar${x(m)}`]},{[`& .${h.avatar}`]:o[`avatarColor${x(s)}`]},{[`& .${h.icon}`]:o.icon},{[`& .${h.icon}`]:o[`icon${x(m)}`]},{[`& .${h.icon}`]:o[`iconColor${x(f)}`]},{[`& .${h.deleteIcon}`]:o.deleteIcon},{[`& .${h.deleteIcon}`]:o[`deleteIcon${x(m)}`]},{[`& .${h.deleteIcon}`]:o[`deleteIconColor${x(s)}`]},{[`& .${h.deleteIcon}`]:o[`deleteIcon${x(C)}Color${x(s)}`]},o.root,o[`size${x(m)}`],o[`color${x(s)}`],b&&o.clickable,b&&s!=="default"&&o[`clickableColor${x(s)})`],c&&o.deletable,c&&s!=="default"&&o[`deletableColor${x(s)}`],o[C],o[`${C}${x(s)}`]]}})(de(({theme:e})=>{const o=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${h.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${h.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:o,fontSize:e.typography.pxToRem(12)},[`& .${h.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${h.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${h.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${h.icon}`]:{marginLeft:5,marginRight:-6},[`& .${h.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:_(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:_(e.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${h.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${h.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(lt(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText,[`& .${h.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[n].contrastTextChannel} / 0.7)`:_(e.palette[n].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${h.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:o}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${h.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${h.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:_(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}},...Object.entries(e.palette).filter(lt(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${h.focusVisible}`]:{background:(e.vars||e).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:_(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${h.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:_(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(lt(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${h.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${h.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${h.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${h.avatar}`]:{marginLeft:4},[`& .${h.avatarSmall}`]:{marginLeft:2},[`& .${h.icon}`]:{marginLeft:4},[`& .${h.iconSmall}`]:{marginLeft:2},[`& .${h.deleteIcon}`]:{marginRight:5},[`& .${h.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(lt()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.7)`:_(e.palette[n].main,.7)}`,[`&.${h.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:_(e.palette[n].main,e.palette.action.hoverOpacity)},[`&.${h.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.focusOpacity})`:_(e.palette[n].main,e.palette.action.focusOpacity)},[`& .${h.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.7)`:_(e.palette[n].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].main}}}}))]}})),zo=F("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,o)=>{const{ownerState:n}=e,{size:s}=n;return[o.label,o[`label${x(s)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Mt(e){return e.key==="Backspace"||e.key==="Delete"}const Fo=d.forwardRef(function(o,n){const s=ct({props:o,name:"MuiChip"}),{avatar:f,className:b,clickable:c,color:m="default",component:C,deleteIcon:P,disabled:k=!1,icon:T,label:S,onClick:L,onDelete:D,onKeyDown:te,onKeyUp:G,size:H="medium",variant:U="filled",tabIndex:M,skipFocusWhenDisabled:ne=!1,...fe}=s,V=d.useRef(null),ge=Xt(V,n),be=j=>{j.stopPropagation(),D&&D(j)},he=j=>{j.currentTarget===j.target&&Mt(j)&&j.preventDefault(),te&&te(j)},$e=j=>{j.currentTarget===j.target&&D&&Mt(j)&&D(j),G&&G(j)},J=c!==!1&&L?!0:c,v=J||D?Tt:C||"div",me={...s,component:v,disabled:k,size:H,color:m,iconColor:d.isValidElement(T)&&T.props.color||m,onDelete:!!D,clickable:J,variant:U},Q=Eo(me),Ie=v===Tt?{component:C||"div",focusVisibleClassName:Q.focusVisible,...D&&{disableRipple:!0}}:{};let X=null;D&&(X=P&&d.isValidElement(P)?d.cloneElement(P,{className:ee(P.props.className,Q.deleteIcon),onClick:be}):l.jsx(jo,{className:ee(Q.deleteIcon),onClick:be}));let xe=null;f&&d.isValidElement(f)&&(xe=d.cloneElement(f,{className:ee(Q.avatar,f.props.className)}));let Me=null;return T&&d.isValidElement(T)&&(Me=d.cloneElement(T,{className:ee(Q.icon,T.props.className)})),l.jsxs(No,{as:v,className:ee(Q.root,b),disabled:J&&k?!0:void 0,onClick:L,onKeyDown:he,onKeyUp:$e,ref:ge,tabIndex:ne&&k?-1:M,ownerState:me,...Ie,...fe,children:[xe||Me,l.jsx(zo,{className:ee(Q.label),ownerState:me,children:S}),X]})});function Vo(e){return $t("MuiAutocomplete",e)}const u=It("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var Et,Nt;const Bo=e=>{const{classes:o,disablePortal:n,expanded:s,focused:f,fullWidth:b,hasClearIcon:c,hasPopupIcon:m,inputFocused:C,popupOpen:P,size:k}=e,T={root:["root",s&&"expanded",f&&"focused",b&&"fullWidth",c&&"hasClearIcon",m&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",C&&"inputFocused"],tag:["tag",`tagSize${x(k)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",P&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return pt(T,Vo,o)},Ho=F("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e,{fullWidth:s,hasClearIcon:f,hasPopupIcon:b,inputFocused:c,size:m}=n;return[{[`& .${u.tag}`]:o.tag},{[`& .${u.tag}`]:o[`tagSize${x(m)}`]},{[`& .${u.inputRoot}`]:o.inputRoot},{[`& .${u.input}`]:o.input},{[`& .${u.input}`]:c&&o.inputFocused},o.root,s&&o.fullWidth,b&&o.hasPopupIcon,f&&o.hasClearIcon]}})({[`&.${u.focused} .${u.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${u.clearIndicator}`]:{visibility:"visible"}},[`& .${u.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${u.inputRoot}`]:{[`.${u.hasPopupIcon}&, .${u.hasClearIcon}&`]:{paddingRight:30},[`.${u.hasPopupIcon}.${u.hasClearIcon}&`]:{paddingRight:56},[`& .${u.input}`]:{width:0,minWidth:30}},[`& .${Ct.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Ct.root}.${Ce.sizeSmall}`]:{[`& .${Ct.input}`]:{padding:"2px 4px 3px 0"}},[`& .${wt.root}`]:{padding:9,[`.${u.hasPopupIcon}&, .${u.hasClearIcon}&`]:{paddingRight:39},[`.${u.hasPopupIcon}.${u.hasClearIcon}&`]:{paddingRight:65},[`& .${u.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${u.endAdornment}`]:{right:9}},[`& .${wt.root}.${Ce.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${u.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${je.root}`]:{paddingTop:19,paddingLeft:8,[`.${u.hasPopupIcon}&, .${u.hasClearIcon}&`]:{paddingRight:39},[`.${u.hasPopupIcon}.${u.hasClearIcon}&`]:{paddingRight:65},[`& .${je.input}`]:{padding:"7px 4px"},[`& .${u.endAdornment}`]:{right:9}},[`& .${je.root}.${Ce.sizeSmall}`]:{paddingBottom:1,[`& .${je.input}`]:{padding:"2.5px 4px"}},[`& .${Ce.hiddenLabel}`]:{paddingTop:8},[`& .${je.root}.${Ce.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${u.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${je.root}.${Ce.hiddenLabel}.${Ce.sizeSmall}`]:{[`& .${u.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${u.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${u.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${u.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${u.inputRoot}`]:{flexWrap:"wrap"}}}]}),Uo=F("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,o)=>o.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Wo=F(Ft,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,o)=>o.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),_o=F(Ft,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.popupIndicator,n.popupOpen&&o.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Go=F(Vt,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[{[`& .${u.option}`]:o.option},o.popper,n.disablePortal&&o.popperDisablePortal]}})(de(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Ko=F(Bt,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,o)=>o.paper})(de(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),qo=F("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,o)=>o.loading})(de(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Jo=F("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,o)=>o.noOptions})(de(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Qo=F("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,o)=>o.listbox})(de(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${u.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${u.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${u.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:_(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${u.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:_(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${u.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:_(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}))),Xo=F(vt,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,o)=>o.groupLabel})(de(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),Yo=F("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,o)=>o.groupUl})({padding:0,[`& .${u.option}`]:{paddingLeft:24}}),Zo=d.forwardRef(function(o,n){const s=ct({props:o,name:"MuiAutocomplete"}),{autoComplete:f=!1,autoHighlight:b=!1,autoSelect:c=!1,blurOnSelect:m=!1,ChipProps:C,className:P,clearIcon:k=Et||(Et=l.jsx(Po,{fontSize:"small"})),clearOnBlur:T=!s.freeSolo,clearOnEscape:S=!1,clearText:L="Clear",closeText:D="Close",componentsProps:te,defaultValue:G=s.multiple?[]:null,disableClearable:H=!1,disableCloseOnSelect:U=!1,disabled:M=!1,disabledItemsFocusable:ne=!1,disableListWrap:fe=!1,disablePortal:V=!1,filterOptions:ge,filterSelectedOptions:be=!1,forcePopupIcon:he="auto",freeSolo:$e=!1,fullWidth:J=!1,getLimitTagsText:v=y=>`+${y}`,getOptionDisabled:me,getOptionKey:Q,getOptionLabel:Ie,isOptionEqualToValue:X,groupBy:xe,handleHomeEndKeys:Me=!s.freeSolo,id:j,includeInputInList:St=!1,inputValue:Pe,limitTags:Ee=-1,ListboxComponent:ut,ListboxProps:W,loading:E=!1,loadingText:Ne="Loading…",multiple:ze=!1,noOptionsText:A="No options",onChange:K,onClose:Fe,onHighlightChange:Ot,onInputChange:q,onOpen:Qe,open:dt,openOnFocus:z=!1,openText:i="Open",options:kt,PaperComponent:I,PopperComponent:Se,popupIcon:Oe=Nt||(Nt=l.jsx(Yt,{})),readOnly:Ve=!1,renderGroup:ke,renderInput:ce,renderOption:Xe,renderTags:Ye,selectOnFocus:ft=!s.freeSolo,size:Le="medium",slots:B={},slotProps:O={},value:oe,...Be}=s,{getRootProps:Re,getInputProps:Ze,getInputLabelProps:re,getPopupIndicatorProps:Y,getClearProps:gt,getTagProps:He,getListboxProps:bt,getOptionProps:se,value:le,dirty:pe,expanded:Te,id:ye,popupOpen:we,focused:Ue,focusedTag:et,anchorEl:Ae,setAnchorEl:ht,inputValue:tt,groupedOptions:De}=To({...s,componentName:"Autocomplete"}),We=!H&&!M&&pe&&!Ve,_e=(!$e||he===!0)&&he!==!1,{onMouseDown:mt}=Ze(),{ref:xt,...ot}=bt(),Ge=Ie||(y=>y.label??y),N={...s,disablePortal:V,expanded:Te,focused:Ue,fullWidth:J,getOptionLabel:Ge,hasClearIcon:We,hasPopupIcon:_e,inputFocused:et===-1,popupOpen:we,size:Le},w=Bo(N),ie={slots:{paper:I,popper:Se,...B},slotProps:{chip:C,listbox:W,...te,...O}},[a,t]=Je("listbox",{elementType:Qo,externalForwardedProps:ie,ownerState:N,className:w.listbox,additionalProps:ot,ref:xt}),[r,p]=Je("paper",{elementType:Bt,externalForwardedProps:ie,ownerState:N,className:w.paper}),[g,R]=Je("popper",{elementType:Vt,externalForwardedProps:ie,ownerState:N,className:w.popper,additionalProps:{disablePortal:V,style:{width:Ae?Ae.clientWidth:null},role:"presentation",anchorEl:Ae,open:we}});let $;if(ze&&le.length>0){const y=ae=>({className:w.tag,disabled:M,...He(ae)});Ye?$=Ye(le,y,N):$=le.map((ae,ue)=>{const{key:Ke,...qt}=y({index:ue});return l.jsx(Fo,{label:Ge(ae),size:Le,...qt,...ie.slotProps.chip},Ke)})}if(Ee>-1&&Array.isArray($)){const y=$.length-Ee;!Ue&&y>0&&($=$.splice(0,Ee),$.push(l.jsx("span",{className:w.tag,children:v(y)},$.length)))}const at=ke||(y=>l.jsxs("li",{children:[l.jsx(Xo,{className:w.groupLabel,ownerState:N,component:"div",children:y.group}),l.jsx(Yo,{className:w.groupUl,ownerState:N,children:y.children})]},y.key)),Kt=Xe||((y,ae)=>{const{key:ue,...Ke}=y;return l.jsx("li",{...Ke,children:Ge(ae)},ue)}),Rt=(y,ae)=>{const ue=se({option:y,index:ae});return Kt({...ue,className:w.option},y,{selected:ue["aria-selected"],index:ae,inputValue:tt},N)},nt=ie.slotProps.clearIndicator,rt=ie.slotProps.popupIndicator;return l.jsxs(d.Fragment,{children:[l.jsx(Ho,{ref:n,className:ee(w.root,P),ownerState:N,...Re(Be),children:ce({id:ye,disabled:M,fullWidth:!0,size:Le==="small"?"small":void 0,InputLabelProps:re(),InputProps:{ref:ht,className:w.inputRoot,startAdornment:$,onMouseDown:y=>{y.target===y.currentTarget&&mt(y)},...(We||_e)&&{endAdornment:l.jsxs(Uo,{className:w.endAdornment,ownerState:N,children:[We?l.jsx(Wo,{...gt(),"aria-label":L,title:L,ownerState:N,...nt,className:ee(w.clearIndicator,nt==null?void 0:nt.className),children:k}):null,_e?l.jsx(_o,{...Y(),disabled:M,"aria-label":we?D:i,title:we?D:i,ownerState:N,...rt,className:ee(w.popupIndicator,rt==null?void 0:rt.className),children:Oe}):null]})}},inputProps:{className:w.input,disabled:M,readOnly:Ve,...Ze()}})}),Ae?l.jsx(Go,{as:g,...R,children:l.jsxs(Ko,{as:r,...p,children:[E&&De.length===0?l.jsx(qo,{className:w.loading,ownerState:N,children:Ne}):null,De.length===0&&!$e&&!E?l.jsx(Jo,{className:w.noOptions,ownerState:N,role:"presentation",onMouseDown:y=>{y.preventDefault()},children:A}):null,De.length>0?l.jsx(a,{as:ut,...t,children:De.map((y,ae)=>xe?at({key:y.key,group:y.group,children:y.options.map((ue,Ke)=>Rt(ue,y.index+Ke))}):Rt(y,ae))}):null]})}):null]})}),ea=e=>{const{classes:o,inset:n,primary:s,secondary:f,dense:b}=e;return pt({root:["root",n&&"inset",b&&"dense",s&&f&&"multiline"],primary:["primary"],secondary:["secondary"]},eo,o)},ta=F("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[{[`& .${it.primary}`]:o.primary},{[`& .${it.secondary}`]:o.secondary},o.root,n.inset&&o.inset,n.primary&&n.secondary&&o.multiline,n.dense&&o.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${At.root}:where(& .${it.primary})`]:{display:"block"},[`.${At.root}:where(& .${it.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),oa=d.forwardRef(function(o,n){const s=ct({props:o,name:"MuiListItemText"}),{children:f,className:b,disableTypography:c=!1,inset:m=!1,primary:C,primaryTypographyProps:P,secondary:k,secondaryTypographyProps:T,slots:S={},slotProps:L={},...D}=s,{dense:te}=d.useContext(Zt);let G=C??f,H=k;const U={...s,disableTypography:c,inset:m,primary:!!G,secondary:!!H,dense:te},M=ea(U),ne={slots:S,slotProps:{primary:P,secondary:T,...L}},[fe,V]=Je("primary",{className:M.primary,elementType:ve,externalForwardedProps:ne,ownerState:U}),[ge,be]=Je("secondary",{className:M.secondary,elementType:ve,externalForwardedProps:ne,ownerState:U});return G!=null&&G.type!==ve&&!c&&(G=l.jsx(fe,{variant:te?"body2":"body1",component:V!=null&&V.variant?void 0:"span",...V,children:G})),H!=null&&H.type!==ve&&!c&&(H=l.jsx(ge,{variant:"body2",color:"textSecondary",...be,children:H})),l.jsxs(ta,{className:ee(M.root,b),ownerState:U,ref:n,...D,children:[G,H]})});function aa(e){const o=qe(f=>f.user.id),n=to(),s=d.useMemo(()=>o==e.itemChat.user1.id?e.itemChat.user2.name:e.itemChat.user1.name,[e.itemChat.id,o]);return l.jsx(Ht,{divider:!0,children:l.jsx(oo,{component:ao,to:`/chat/${e.itemChat.id}`,children:l.jsxs(oa,{children:[l.jsx(ve,{children:s}),l.jsxs(Ut,{direction:"row",justifyContent:"space-between",children:[l.jsx(ve,{variant:"subtitle2",display:"block",children:e.itemChat.latest_message.message}),e.itemChat.latest_message.viewed_at===null&&l.jsx(no,{icon:ro,color:n.palette.chat.pointNotRead,size:"xs"})]}),l.jsx(ve,{variant:"caption",align:"right",display:"block",children:$o(e.itemChat.latest_message.created_at)})]})})})}function Gt({children:e,...o}){return l.jsx(Wt,{variant:"outlined",color:"success",...o,children:e})}function na(e){const o=Pt(),[n,s]=d.useState([]),f=(b,c)=>{c.length>=2?o(so(c)).unwrap().then(m=>{s(m)}).catch(()=>{s([])}):s([])};return l.jsx(Zo,{value:e.value,options:n,noOptionsText:"Пусто",getOptionLabel:b=>b.name,isOptionEqualToValue:(b,c)=>b.id==c.id,onInputChange:f,renderInput:b=>l.jsx(_t,{...b,label:"ФИО",placeholder:"Введите ФИО"}),renderOption:(b,c,m)=>d.createElement("li",{...b,key:c.id},l.jsx("span",{children:c.name})),onChange:e.onChange})}function ra({children:e,...o}){return l.jsx(Wt,{variant:"outlined",...o,children:e})}function sa(e){const o=Pt(),[n,s]=d.useState({user_id2:0,message:""}),f=(c,m)=>{s(m?{...n,user_id2:m.id}:{...n,user_id2:0})},b=()=>{n.message&&n.message.length>0?(o(uo(n)),e.handleClose()):fo.error("Введите сообщение!")};return d.useEffect(()=>{},[]),l.jsxs(lo,{open:e.open,fullWidth:!0,children:[l.jsx(io,{children:"Новое сообщение"}),l.jsx(co,{children:l.jsxs(Ut,{spacing:2,sx:{py:2},children:[l.jsx(na,{onChange:f}),l.jsx(_t,{label:"Ваше сообщение",multiline:!0,rows:3,value:n.message,onChange:c=>s({...n,message:c.target.value})})]})}),l.jsxs(po,{children:[l.jsx(ra,{onClick:e.handleClose,children:"Отмена"}),l.jsx(Gt,{onClick:b,children:"Отправить"})]})]})}const la=go.getSelectors(e=>e.chats.chats);function ua(){const e=Pt(),[o,n]=d.useState(!1),[s,f]=d.useState(2),b=qe(la.selectAll),c=qe(S=>S.chats.loadingStatus)==="loading",m=qe(S=>S.chats.endChats),C=qe(S=>S.user.id),P=bo();ho(()=>{e(mo()),e(Dt(1))},[]);const k=()=>{n(!1)},T=()=>{n(!0)};return d.useLayoutEffect(()=>{const S=()=>{document.documentElement.getBoundingClientRect().bottom<document.documentElement.clientHeight+1e3&&!c&&!m&&(e(Dt(s)),f(D=>D+1))};return window.addEventListener("scroll",S),()=>{window.removeEventListener("scroll",S)}},[s,m,c,document.documentElement.getBoundingClientRect().bottom,document.documentElement.clientHeight]),d.useEffect(()=>{const S=L=>{console.debug(L),e(vo(L.chat))};return P!=null&&(console.debug(`listen channel: update-chats-${C}. listen event: .update-chats`),P.channel(`update-chats-${C}`).listen(".update-chats",S)),()=>{P!=null&&P.channel(`update-chats-${C}`).stopListening(".update-chats",S)}},[P,C]),l.jsxs(xo,{sx:{marginTop:1},children:[l.jsx(Gt,{onClick:T,children:"Создать чат"}),l.jsxs(yo,{children:[b.map(S=>l.jsx(aa,{itemChat:S},S.id)),c&&l.jsx(Ht,{sx:{justifyContent:"center"},children:l.jsx(Co,{})})]}),l.jsx(sa,{open:o,handleClose:k})]})}export{ua as default};
